<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.7.4
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1>LoginRadius</h1>

<p>Ruby wrapper for the LoginRadius API. Get social graph information and send messages using LoginRadius&#39;
many social network clients!</p>

<p>Optional Asynchronous EventMachine friendly option!</p>

<h2>Installation</h2>

<p>Add this line to your application&#39;s Gemfile:</p>

<pre class="code"><span class='rubyid_gem identifier id'>gem</span> <span class='string val'>'login_radius'</span>
</pre>

<p>And then execute:</p>

<pre class="code">$ <span class='rubyid_bundle identifier id'>bundle</span>
</pre>

<p>Or install it yourself as:</p>

<pre class="code">$ <span class='rubyid_gem identifier id'>gem</span> <span class='rubyid_install identifier id'>install</span> <span class='rubyid_login_radius identifier id'>login_radius</span>
</pre>

<h2>Usage</h2>

<p>Take a peek:</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span> <span class='assign token'>=</span> <span class='rubyid_LoginRadius constant id'>LoginRadius</span><span class='colon2 op'>::</span><span class='rubyid_UserProfile constant id'>UserProfile</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='lbrace token'>{</span>
  <span class='symbol val'>:token</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;TOKEN&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:secret</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;SECRET&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:async</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_false false kw'>false</span> <span class='comment val'>#Set to true if using EventMachine driven frameworks(must use Em Synchrony)</span>
<span class='rbrace token'>}</span><span class='rparen token'>)</span>
<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_login identifier id'>login</span>
<span class='rubyid_my_contacts identifier id'>my_contacts</span> <span class='assign token'>=</span> <span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_contacts identifier id'>contacts</span>
</pre>

<p>That&#39;s right, folks. It&#39;s that simple. In order to get access to LoginRadius API, you only
need to create a UserProfile object with a user&#39;s login token and your apps secret, and login.</p>

<h3>How to get a token and actually make a client</h3>

<p>On the LoginRadius website, you are able to enter your own callback URL for your app. You will need
to setup a route on whatever framework you use, maybe &quot;/callback.&quot; Then, get the gem forward(<a href="http://www.forwardhq.com">www.forwardhq.com</a>)
and use it to set up a public web address for your localhost server. Then, you can enter the callback on LoginRadius
as <a href="https://jordanmatthew.fwd.wf/callback">https://jordanmatthew.fwd.wf/callback</a>, for instance.</p>

<p>Paste their example login stuff onto your index page, and then enter your FB/Twitter credentials on their site.</p>

<p>Now you&#39;re ready to go with testing!</p>

<p>When LoginRadius hits your callback after a user logs in, you&#39;ll see parameters like this:</p>

<p>Parameters: &amp;quot;token&amp;quot;=&amp;gt;&amp;quot;yourtokenhere&amp;quot;</p>

<p>This token is the token used in the above example. This is what you&#39;ll need to get your user&#39;s profile.
Just paste it into the code above, and you can immediately grab their user profile on the callback,
login, and grab their contacts.</p>

<h3>Some examples</h3>

<p>Below is just code exemplifying some of the more interesting methods and what they return.
Note if you have a user authed via facebook, and not twitter, methods like </p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_twitter_timeline identifier id'>twitter_timeline</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_false false kw'>false</span>
</pre>

<p>Will return false, indicating you don&#39;t have access to that stream.</p>

<h4>Facebook Stuff</h4>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_facebook_groups identifier id'>facebook_groups</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>

<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_facebook_groups identifier id'>facebook_groups</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
 <span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>


<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_facebook_events identifier id'>facebook_events</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:start_time=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;3/14/2015 9:00:00 AM&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:rsvp_status=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;attending&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:location=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Across the world!&quot;</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
</pre>

<p>And, finally, you can also make facebook posts:</p>

<pre class="code"><span class='rubyid_params identifier id'>params</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
  <span class='symbol val'>:title</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Testing&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:url</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;www.loginradius.com&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:status</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Wizzup&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:caption</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Testly&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:description</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;Testing&quot;</span>
<span class='rbrace token'>}</span>
<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_make_facebook_post identifier id'>make_facebook_post</span><span class='lparen token'>(</span><span class='rubyid_params identifier id'>params</span><span class='rparen token'>)</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span>
</pre>

<p>Note that as of publishing, the :to option on facebook params does not work. You can&#39;t post to
other people&#39;s walls.</p>

<h4>LinkedIn Stuff</h4>

<p>To send messages over linked in:</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_send_linked_in_message identifier id'>send_linked_in_message</span><span class='lparen token'>(</span><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_contacts identifier id'>contacts</span><span class='dot token'>.</span><span class='rubyid_first identifier id'>first</span><span class='lbrack token'>[</span><span class='symbol val'>:id</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='string val'>&quot;Testing&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;This is a test.&quot;</span><span class='rparen token'>)</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span>
</pre>

<p>Notice how I grabbed my first contact and used his :id property.</p>

<p>Also, you can grab a user&#39;s linked in companies:</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_linked_in_companies identifier id'>linked_in_companies</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='integer val'>11111</span><span class='comma token'>,</span> <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
</pre>

<h4>Twitter Stuff</h4>

<p>To send messages over twitter:</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_send_linked_in_message identifier id'>send_linked_in_message</span><span class='lparen token'>(</span><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_contacts identifier id'>contacts</span><span class='dot token'>.</span><span class='rubyid_first identifier id'>first</span><span class='lbrack token'>[</span><span class='symbol val'>:id</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='string val'>&quot;Testing&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;This is a test.&quot;</span><span class='rparen token'>)</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span>
</pre>

<p>Notice how I grabbed my first contact and used his :id property.</p>

<p>Grab your timelines and mentions:</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_twitter_timeline identifier id'>twitter_timeline</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:text=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Stuff&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:date_time=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;5/20/2013 4:53:52 PM&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:likes=</span><span class='gt op'>&gt;</span><span class='integer val'>0</span><span class='comma token'>,</span>
    <span class='symbol val'>:place=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:source=</span><span class='gt op'>&gt;</span>
     <span class='string val'>&quot;&lt;a href=\&quot;http://twitterfeed.com\&quot; rel=\&quot;nofollow\&quot;&gt;twitterfeed&lt;/a&gt;&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:image_url=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:link_url=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>

<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_twitter_mentions identifier id'>twitter_mentions</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:text=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Stuff&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:date_time=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;3/31/2013 7:54:10 PM&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:likes=</span><span class='gt op'>&gt;</span><span class='integer val'>0</span><span class='comma token'>,</span>
    <span class='symbol val'>:place=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:source=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;web&quot;</span><span class='comma token'>,</span>
    <span class='symbol val'>:image_url=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:link_url=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
    <span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
</pre>

<h4>Social Network Contacts</h4>

<p>Note this is all the contacts from every social network the user is connected to.</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_contacts identifier id'>contacts</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:email_id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:phone_number=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:profile_url=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:image_url=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:status=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:industry=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:country=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:gender=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span>
</pre>

<h4>User Profile Stuff</h4>

<p>When you login, the API returns a hash of user profile information, which is then turned into methods
on the LoginRadius::UserProfile object for your accessing pleasure. A quick call to methods will show this. </p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_methods identifier id'>methods</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span><span class='lbrack token'>[</span><span class='symbol val'>:id</span><span class='comma token'>,</span>
 <span class='symbol val'>:provider</span><span class='comma token'>,</span>
 <span class='symbol val'>:prefix</span><span class='comma token'>,</span>
 <span class='symbol val'>:first_name</span><span class='comma token'>,</span>
 <span class='symbol val'>:middle_name</span><span class='comma token'>,</span>
 <span class='symbol val'>:last_name</span><span class='comma token'>,</span>
 <span class='symbol val'>:suffix</span><span class='comma token'>,</span>
 <span class='symbol val'>:full_name</span><span class='comma token'>,</span>
 <span class='symbol val'>:nick_name</span><span class='comma token'>,</span>
 <span class='symbol val'>:profile_name</span><span class='comma token'>,</span>
 <span class='symbol val'>:birth_date</span><span class='comma token'>,</span>
 <span class='symbol val'>:gender</span><span class='comma token'>,</span>
 <span class='symbol val'>:website</span><span class='comma token'>,</span>
 <span class='symbol val'>:email</span><span class='comma token'>,</span>
 <span class='symbol val'>:country</span><span class='comma token'>,</span>
 <span class='dot3 op'>...</span><span class='rbrack token'>]</span>
</pre>

<p>Calling .methods on a user profile right after a successful login call will reveal these. 
For more information, please read the section in caveats on the matter, as it&#39;s a bit esoteric.</p>

<h2>Caveats</h2>

<p>This section is for the nitpickers. It&#39;s got notes about the finer pickings of this API for those
who are wondering, but is not strictly necessary reading.</p>

<h3>The Bang Methods</h3>

<p>When authenticated, a method like contacts will return </p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_authenticated? fid id'>authenticated?</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span>
<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_contacts identifier id'>contacts</span> 
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='lbrace token'>{</span><span class='symbol val'>:name=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;Name&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:email_id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:phone_number=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:id=</span><span class='gt op'>&gt;</span><span class='string val'>&quot;11111&quot;</span><span class='comma token'>,</span>
  <span class='symbol val'>:profile_url=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:image_url=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:status=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:industry=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:country=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='symbol val'>:gender=</span><span class='gt op'>&gt;</span><span class='rubyid_nil nil kw'>nil</span><span class='rbrace token'>}</span><span class='comma token'>,</span>
  <span class='dot3 op'>...</span>
</pre>

<p>When unauthenticated, a method like contacts will return false.</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_authenticated? fid id'>authenticated?</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_false false kw'>false</span>
<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_contacts identifier id'>contacts</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_false false kw'>false</span>
</pre>

<p>However, if you want to be a bit more flammable, try using contacts!, the bang version. It still returns
the same results when authed, but when unauthed, will actually raise a LoginRadius::Exception.</p>

<h3>The LoginRadius::UserProfile object before and after login</h3>

<p>Once you&#39;ve got a valid user_profile, you have many methods available to you. Let&#39;s quickly take a look 
at the methods in a LoginRadius::UserProfile object that hasn&#39;t yet been authenticated:</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_authenticated? fid id'>authenticated?</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_false false kw'>false</span>

<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_methods identifier id'>methods</span> <span class='minus op'>-</span> <span class='rubyid_Object constant id'>Object</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='dot token'>.</span><span class='rubyid_methods identifier id'>methods</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:secret</span><span class='comma token'>,</span>
 <span class='symbol val'>:secret=</span><span class='comma token'>,</span>
 <span class='symbol val'>:token</span><span class='comma token'>,</span>
 <span class='symbol val'>:token=</span><span class='comma token'>,</span>
 <span class='symbol val'>:async</span><span class='comma token'>,</span>
 <span class='symbol val'>:async=</span><span class='comma token'>,</span>
 <span class='symbol val'>:guid_valid?</span><span class='comma token'>,</span>
 <span class='symbol val'>:authenticated?</span><span class='comma token'>,</span>
 <span class='symbol val'>:call_api</span><span class='comma token'>,</span>
 <span class='symbol val'>:send_twitter_message</span><span class='comma token'>,</span>
 <span class='symbol val'>:send_linkedin_message</span><span class='comma token'>,</span>
 <span class='symbol val'>:make_facebook_post</span><span class='comma token'>,</span>
 <span class='symbol val'>:login!</span><span class='comma token'>,</span>
 <span class='symbol val'>:login</span><span class='comma token'>,</span>
 <span class='symbol val'>:twitter_mentions!</span><span class='comma token'>,</span>
 <span class='symbol val'>:twitter_mentions</span><span class='comma token'>,</span>
 <span class='symbol val'>:twitter_timeline!</span><span class='comma token'>,</span>
 <span class='symbol val'>:twitter_timeline</span><span class='comma token'>,</span>
 <span class='symbol val'>:linked_in_companies!</span><span class='comma token'>,</span>
 <span class='symbol val'>:linked_in_companies</span><span class='comma token'>,</span>
 <span class='symbol val'>:contacts!</span><span class='comma token'>,</span>
 <span class='symbol val'>:contacts</span><span class='comma token'>,</span>
 <span class='symbol val'>:facebook_groups!</span><span class='comma token'>,</span>
 <span class='symbol val'>:facebook_groups</span><span class='comma token'>,</span>
 <span class='symbol val'>:facebook_posts!</span><span class='comma token'>,</span>
 <span class='symbol val'>:facebook_posts</span><span class='comma token'>,</span>
 <span class='symbol val'>:facebook_events!</span><span class='comma token'>,</span>
 <span class='symbol val'>:facebook_events</span><span class='rbrack token'>]</span>
</pre>

<p>Notice we&#39;ve got a lot of stuff we can access. But we&#39;re not yet authenticated. Running login and then checking
the new methods created, we see we have much more than before!</p>

<pre class="code"><span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_login identifier id'>login</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span>
<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_authenticated? fid id'>authenticated?</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='rubyid_true true kw'>true</span>
<span class='rubyid_@user_profile ivar id'>@user_profile</span><span class='dot token'>.</span><span class='rubyid_methods identifier id'>methods</span> <span class='minus op'>-</span> <span class='rubyid_Object constant id'>Object</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='dot token'>.</span><span class='rubyid_methods identifier id'>methods</span>
<span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='symbol val'>:id</span><span class='comma token'>,</span>
<span class='symbol val'>:provider</span><span class='comma token'>,</span>
<span class='symbol val'>:prefix</span><span class='comma token'>,</span>
<span class='symbol val'>:first_name</span><span class='comma token'>,</span>
<span class='symbol val'>:middle_name</span><span class='comma token'>,</span>
<span class='symbol val'>:last_name</span><span class='comma token'>,</span>
<span class='symbol val'>:suffix</span><span class='comma token'>,</span>
<span class='symbol val'>:full_name</span><span class='comma token'>,</span>
<span class='symbol val'>:nick_name</span><span class='comma token'>,</span>
<span class='symbol val'>:profile_name</span><span class='comma token'>,</span>
<span class='symbol val'>:birth_date</span><span class='comma token'>,</span>
<span class='symbol val'>:gender</span><span class='comma token'>,</span>
<span class='symbol val'>:website</span><span class='comma token'>,</span>
<span class='symbol val'>:email</span><span class='comma token'>,</span>
<span class='symbol val'>:country</span><span class='comma token'>,</span>
<span class='symbol val'>:thumbnail_image_url</span><span class='comma token'>,</span>
<span class='symbol val'>:image_url</span><span class='comma token'>,</span>
<span class='symbol val'>:favicon</span><span class='comma token'>,</span>
<span class='symbol val'>:profile_url</span><span class='comma token'>,</span>
<span class='symbol val'>:home_town</span><span class='comma token'>,</span>
<span class='symbol val'>:state</span><span class='comma token'>,</span>
<span class='symbol val'>:city</span><span class='comma token'>,</span>
<span class='symbol val'>:industry</span><span class='comma token'>,</span>
<span class='symbol val'>:about</span><span class='comma token'>,</span>
<span class='symbol val'>:time_zone</span><span class='comma token'>,</span>
<span class='symbol val'>:local_language</span><span class='comma token'>,</span>
<span class='symbol val'>:language</span><span class='comma token'>,</span>
<span class='symbol val'>:verified</span><span class='comma token'>,</span>
<span class='symbol val'>:updated_time</span><span class='comma token'>,</span>
<span class='symbol val'>:positions</span><span class='comma token'>,</span>
<span class='symbol val'>:educations</span><span class='comma token'>,</span>
<span class='symbol val'>:phone_numbers</span><span class='comma token'>,</span>
<span class='symbol val'>:im_accounts</span><span class='comma token'>,</span>
<span class='symbol val'>:addresses</span><span class='comma token'>,</span>
<span class='symbol val'>:main_address</span><span class='comma token'>,</span>
<span class='symbol val'>:created</span><span class='comma token'>,</span>
<span class='symbol val'>:local_city</span><span class='comma token'>,</span>
<span class='symbol val'>:profile_city</span><span class='comma token'>,</span>
<span class='symbol val'>:local_country</span><span class='comma token'>,</span>
<span class='symbol val'>:profile_country</span><span class='comma token'>,</span>
<span class='symbol val'>:relationship_status</span><span class='comma token'>,</span>
<span class='symbol val'>:quota</span><span class='comma token'>,</span>
<span class='symbol val'>:interested_in</span><span class='comma token'>,</span>
<span class='symbol val'>:interests</span><span class='comma token'>,</span>
<span class='symbol val'>:religion</span><span class='comma token'>,</span>
<span class='symbol val'>:political</span><span class='comma token'>,</span>
<span class='symbol val'>:sports</span><span class='comma token'>,</span>
<span class='symbol val'>:inspirational_people</span><span class='comma token'>,</span>
<span class='symbol val'>:https_image_url</span><span class='comma token'>,</span>
<span class='symbol val'>:followers_count</span><span class='comma token'>,</span>
<span class='symbol val'>:friends_count</span><span class='comma token'>,</span>
<span class='symbol val'>:is_geo_enabled</span><span class='comma token'>,</span>
<span class='symbol val'>:total_statuses_count</span><span class='comma token'>,</span>
<span class='symbol val'>:associations</span><span class='comma token'>,</span>
<span class='symbol val'>:num_recommenders</span><span class='comma token'>,</span>
<span class='symbol val'>:honors</span><span class='comma token'>,</span>
<span class='symbol val'>:skills</span><span class='comma token'>,</span>
<span class='symbol val'>:current_status</span><span class='comma token'>,</span>
<span class='symbol val'>:certifications</span><span class='comma token'>,</span>
<span class='symbol val'>:courses</span><span class='comma token'>,</span>
<span class='symbol val'>:volunteer</span><span class='comma token'>,</span>
<span class='symbol val'>:recommendations_received</span><span class='comma token'>,</span>
<span class='symbol val'>:languages</span><span class='comma token'>,</span>
<span class='symbol val'>:public_repository</span><span class='comma token'>,</span>
<span class='symbol val'>:hireable</span><span class='comma token'>,</span>
<span class='symbol val'>:repository_url</span><span class='comma token'>,</span>
<span class='symbol val'>:age</span><span class='comma token'>,</span>
<span class='symbol val'>:patents</span><span class='comma token'>,</span>
<span class='symbol val'>:favorite_things</span><span class='comma token'>,</span>
<span class='symbol val'>:professional_headline</span><span class='comma token'>,</span>
<span class='symbol val'>:provider_access_credential</span><span class='comma token'>,</span>
<span class='symbol val'>:secret</span><span class='comma token'>,</span>
<span class='symbol val'>:secret=</span><span class='comma token'>,</span>
<span class='symbol val'>:token</span><span class='comma token'>,</span>
<span class='symbol val'>:token=</span><span class='comma token'>,</span>
<span class='symbol val'>:async</span><span class='comma token'>,</span>
<span class='symbol val'>:async=</span><span class='comma token'>,</span>
<span class='symbol val'>:guid_valid?</span><span class='comma token'>,</span>
<span class='symbol val'>:authenticated?</span><span class='comma token'>,</span>
<span class='symbol val'>:call_api</span><span class='comma token'>,</span>
<span class='symbol val'>:send_twitter_message</span><span class='comma token'>,</span>
<span class='symbol val'>:send_linkedin_message</span><span class='comma token'>,</span>
<span class='symbol val'>:make_facebook_post</span><span class='comma token'>,</span>
<span class='symbol val'>:login!</span><span class='comma token'>,</span>
<span class='symbol val'>:login</span><span class='comma token'>,</span>
<span class='symbol val'>:twitter_mentions!</span><span class='comma token'>,</span>
<span class='symbol val'>:twitter_mentions</span><span class='comma token'>,</span>
<span class='symbol val'>:twitter_timeline!</span><span class='comma token'>,</span>
<span class='symbol val'>:twitter_timeline</span><span class='comma token'>,</span>
<span class='symbol val'>:linked_in_companies!</span><span class='comma token'>,</span>
<span class='symbol val'>:linked_in_companies</span><span class='comma token'>,</span>
<span class='symbol val'>:contacts!</span><span class='comma token'>,</span>
<span class='symbol val'>:contacts</span><span class='comma token'>,</span>
<span class='symbol val'>:facebook_groups!</span><span class='comma token'>,</span>
<span class='symbol val'>:facebook_groups</span><span class='comma token'>,</span>
<span class='symbol val'>:facebook_posts!</span><span class='comma token'>,</span>
<span class='symbol val'>:facebook_posts</span><span class='comma token'>,</span>
<span class='symbol val'>:facebook_events!</span><span class='comma token'>,</span>
<span class='symbol val'>:facebook_events</span><span class='rbrack token'>]</span>
</pre>

<p>Holy moly we got a whole bunch of new methods! That&#39;s because on login, all the user profile information
returned by the API is turned into dynamically generated GETTERs on the object that you can then use later.</p>

<h3>Running the tests in test/unit</h3>

<p>The base<em>test.rb file isn&#39;t meant to be run, it is inherited by user</em>profile_test.rb. In that file
you&#39;ll notice the lines at the top of the file:</p>

<pre class="code"><span class='rubyid_TOKEN constant id'>TOKEN</span> <span class='assign token'>=</span> <span class='string val'>&quot;yourtokenhere&quot;</span>
<span class='rubyid_SECRET constant id'>SECRET</span> <span class='assign token'>=</span> <span class='string val'>&quot;yoursecrethere&quot;</span>
</pre>

<p>These are meant to be changed to your API secret and some user&#39;s token. What I do is I run a dummy
rails app locally and use the forward gem so that it can receive requests from the internet. Then I setup
a callback route and login page on the app and use it to have LoginRadius ping me with tokens that I can
paste into this test file.</p>

<p><em>Beware, LoginRadius invalidates any token after 15 minutes, so during testing, you&#39;ll have to repeat the token
creation A LOT</em></p>

<p>To run the tests, do:</p>

<pre class="code"><span class='rubyid_bundle identifier id'>bundle</span> <span class='rubyid_exec identifier id'>exec</span> <span class='rubyid_ruby identifier id'>ruby</span> <span class='minus op'>-</span><span class='rubyid_Itest constant id'>Itest</span> <span class='rubyid_test identifier id'>test</span><span class='div op'>/</span><span class='rubyid_unit identifier id'>unit</span><span class='div op'>/</span><span class='rubyid_user_profile_test identifier id'>user_profile_test</span><span class='dot token'>.</span><span class='rubyid_rb identifier id'>rb</span>
</pre>

<p>If you login with a facebook user, for instance, you&#39;ll notice all the twitter/linked in tests failing.
This is to be expected, you don&#39;t have access to those streams!</p>

<h3>Evented Frameworks</h3>

<p>I&#39;ve built this gem to work with frameworks like Cramp. I&#39;ve done a little bit of testing by creating
a basic event loop script in basic<em>async</em>test.rb in the test folder, which you can run to see that
things work there.</p>

<p>I&#39;ve also done some AB testing using a Cramp framework elsewhere, but you should take caution in using
this gem in evented frameworks and make sure to use apache bench to test it for nonblocking yourself.</p>

<h2>Contributing</h2>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am &#39;Added some feature&#39;</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol>
</div></div>
    
    <div id="footer">
  Generated on Wed May 22 11:13:55 2013 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.4 (ruby-1.8.7).
</div>

  </body>
</html>
